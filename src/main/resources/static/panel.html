<!DOCTYPE html>
<html lang="en">

<head>
    <title>WebPortal - Pruebas Full Stack</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="logo.png" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" id="theme" href="https://cabis.burtonservers.com/css/theme-default.css" />
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css?v=<?php print @$verisonsistemac; ?>"
        integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
        </script>
</head>

<body>
    <div class="page-container">
        <div class="page-sidebar">
            <ul class="x-navigation">
                <li class="xn-profile">
                    <a href="#" class="profile-mini">
                        <img src="/pichincha.png" alt="John Doe" />
                    </a>
                    <div class="profile">
                        <div class="profile-image">
                            <img src="/pichincha.png" alt="John Doe" />
                        </div>
                        <div class="profile-data">
                            <div class="profile-data-name">Frank Montagne</div>
                            <div class="profile-data-title">Desarrollador FullStack</div>
                        </div>
                        <div class="profile-controls">
                            <a href="#" class="profile-control-left"><span class="fa fa-info"></span></a>
                            <a href="#" class="profile-control-right"><span class="fa fa-envelope"></span></a>
                        </div>
                    </div>
                </li>
                <li class="xn-title">Menú</li>
                <li>
                    <a href="#" class="btnshowInicio"><span class="fas fa-home"></span> <span
                            class="xn-text">Inicio</span></a>
                    <a href="#" class="btnshowClientes"><span class="fas fa-user"></span> <span
                            class="xn-text">Clientes</span></a>
                    <a href="#" class="btnshowCuentas"><span class="fas fa-money-bill"></span> <span
                            class="xn-text">Cuentas</span></a>
                    <a href="#" class="btnshowMovimientos"><span class="fas fa-exchange-alt"></span> <span
                            class="xn-text">Movimientos</span></a>
                    <a href="#" class="btnshowReportes"><span class="fas fa-database"></span> <span
                            class="xn-text">Reportes</span></a>
                </li>
            </ul>
        </div>
        <div class="page-content">
            <ul class="x-navigation x-navigation-horizontal x-navigation-panel">
                <li class="xn-icon-button pull-right last">
                    <a href="#"><span class="fa fa-power-off"></span></a>
                    <ul class="xn-drop-left animated zoomIn">
                        <li><a href="#" class="mb-control" data-box="#mb-signout"><span
                                    class="fas fa-sign-out-alt"></span>
                                Salir</a></li>
                    </ul>
                </li>

            </ul>
            <ul class="breadcrumb">
                <li><a href="#">Web Portal</a></li>
            </ul>
            <div class="page-content-wrap">
                <div class="page-title">
                    <h2><span class="fas fa-home"></span> Banco Pichincha</h2>
                </div>
                <div class="row inicialpanel iniciopanel">
                    <div class="col-md-3 btnshowClientes">

                        <div class="widget widget-primary widget-item-icon">
                            <div class="widget-item-left">
                                <span class="fa fas fa-user"></span>
                            </div>
                            <div class="widget-data">
                                <div class="widget-title">Clientes</div>
                            </div>
                            <div class="widget-controls">
                                <a href="#" class="widget-control-right"><span class="fa fa-times"></span></a>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-3 btnshowCuentas">

                        <div class="widget widget-primary widget-item-icon">
                            <div class="widget-item-left">
                                <span class="fa fas fa-money-bill"></span>
                            </div>
                            <div class="widget-data">
                                <div class="widget-title">Cuentas</div>
                            </div>
                            <div class="widget-controls">
                                <a href="#" class="widget-control-right"><span class="fa fa-times"></span></a>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-3 btnshowMovimientos">

                        <div class="widget widget-primary widget-item-icon">
                            <div class="widget-item-left">
                                <span class="fa fas fa-exchange-alt"></span>
                            </div>
                            <div class="widget-data">
                                <div class="widget-title">Movimientos</div>
                            </div>
                            <div class="widget-controls">
                                <a href="#" class="widget-control-right"><span class="fa fa-times"></span></a>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-3 btnshowReportes">

                        <div class="widget widget-primary widget-item-icon">
                            <div class="widget-item-left">
                                <span class="fa fas fa-database"></span>
                            </div>
                            <div class="widget-data">
                                <div class="widget-title">Reportes</div>
                            </div>
                            <div class="widget-controls">
                                <a href="#" class="widget-control-right"><span class="fa fa-times"></span></a>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-md-12 inicialpanel clientespanel">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <div class="panel-title-box">
                                <h3>Listado de Clientes</h3>
                                <span>Clientes del sistema </span>
                            </div>
                            <ul class="panel-controls" style="margin-top: 2px;">
                                <li><a href="#" class="panel-collapse"><span class="fa fa-angle-down"></span> </a></li>
                                <li><a href="#" class="panel-remove"><span class="fa fa-times"></span> </a></li>
                            </ul>
                        </div>
                        <div class="panel-body addpanelnormal">
                            <div class="col-md-8">
                                <div class="form-group push-up-10">
                                    <h4>Buscar:</h4>
                                    <div class="input-group">
                                        <div class="input-group-addon"><span class="fas fa-search"></span></div>
                                        <input type="text" class="form-control" placeholder="Buscar Clientes...">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel-body form-group-separated addpanelshow">
                            <div class="form-group custform">
                                <label class="col-md-3 col-xs-5 control-label">Nombre</label>
                                <div class="col-md-9 col-xs-7">
                                    <input id="usernombre_input" type="text" value="" placeholder="Ingresa el nombre"
                                        maxlength="40" class="form-control alphaonly" required="required">
                                </div>
                            </div>
                            <div class="form-group custform">
                                <label class="col-md-3 col-xs-5 control-label">Correo</label>
                                <div class="col-md-9 col-xs-7">
                                    <input id="useremaile_input" type="text" value="" placeholder="Ingresa el correo"
                                        maxlength="40" class="form-control alphaonly" required="required">
                                </div>
                            </div>
                            <div class="form-group custform">
                                <label class="col-md-3 col-xs-5 control-label">Dirección</label>
                                <div class="col-md-9 col-xs-7">
                                    <input id="useraddr_input" type="text" value="" placeholder="Ingresa la dirección"
                                        maxlength="40" class="form-control alphaonly" required="required">
                                </div>
                            </div>
                        </div>
                        <div class="panel-footer addpanelnormal">
                            <span class="pull-right btn btn-success agregarnuevoclientebtn" title="Agregar Nuevo">
                                <i class="fas fa-plus"></i> Nuevo </span>
                        </div>
                        <div class="panel-footer addpanelshow">
                            <span class="pull-right btn btn-info guardarnuevoclientebtn" title="Agregar Nuevo">
                                <i class="fas fa-save"></i> Agregar </span>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 inicialpanel cuentaspanel">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <div class="panel-title-box">
                                <h3>Listado de Cuentas</h3>
                                <span>Cuentas del sistema </span>
                            </div>
                            <ul class="panel-controls" style="margin-top: 2px;">
                                <li><a href="#" class="panel-collapse"><span class="fa fa-angle-down"></span> </a></li>
                                <li><a href="#" class="panel-remove"><span class="fa fa-times"></span> </a></li>
                            </ul>
                        </div>
                        <div class="panel-body">
                            <div class="col-md-8">
                                <div class="form-group push-up-10">
                                    <h4>Buscar:</h4>
                                    <div class="input-group">
                                        <div class="input-group-addon"><span class="fas fa-search"></span></div>
                                        <input type="text" class="form-control" placeholder="Buscar Cuentas...">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel-body form-group-separated addpanelshow">
                            <div class="form-group custform">
                                <label class="col-md-3 col-xs-5 control-label">Nombre</label>
                                <div class="col-md-9 col-xs-7">
                                    <input id="accusernombre_input" type="text" value=""
                                        placeholder="Ingresa el nombre de la cuenta" maxlength="40"
                                        class="form-control alphaonly" required="required">
                                </div>
                            </div>
                            <div class="form-group custform">
                                <label class="col-md-3 col-xs-5 control-label">Tipo de Cuenta</label>
                                <div class="col-md-9 col-xs-7">
                                    <input id="accusertipo_input" type="text" value=""
                                        placeholder="Ingresa el Tipo de cuenta" maxlength="40"
                                        class="form-control alphaonly" required="required">
                                </div>
                            </div>
                        </div>
                        <div class="panel-footer addpanelnormal">
                            <span class="pull-right btn btn-success agregarnuevacuentabtn" title="Agregar Nuevo">
                                <i class="fas fa-plus"></i> Nuevo </span>
                        </div>
                        <div class="panel-footer addpanelshow">
                            <span class="pull-right btn btn-info guardarnuevacuentabtn" title="Agregar Nuevo">
                                <i class="fas fa-save"></i> Agregar </span>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 inicialpanel movimientospanel">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <div class="panel-title-box">
                                <h3>Listado de Movimientos</h3>
                                <span>Movimientos del sistema </span>
                            </div>
                            <ul class="panel-controls" style="margin-top: 2px;">
                                <li><a href="#" class="panel-collapse"><span class="fa fa-angle-down"></span> </a></li>
                                <li><a href="#" class="panel-remove"><span class="fa fa-times"></span> </a></li>
                            </ul>
                        </div>
                        <div class="panel-body">
                            <div class="col-md-8">
                                <div class="form-group push-up-10">
                                    <h4>Buscar:</h4>
                                    <div class="input-group">
                                        <div class="input-group-addon"><span class="fas fa-search"></span></div>
                                        <input type="text" class="form-control" placeholder="Buscar Movimientos...">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel-body form-group-separated addpanelshow">
                            <div class="form-group custform">
                                <label class="col-md-3 col-xs-5 control-label">ID de Cliente</label>
                                <div class="col-md-9 col-xs-7">
                                    <input id="movuserrelated_input" type="text" value=""
                                        placeholder="Ingresa el nombre de la cuenta" maxlength="40"
                                        class="form-control alphaonly" required="required">
                                </div>
                            </div>
                            <div class="form-group custform">
                                <label class="col-md-3 col-xs-5 control-label">Tipo de movimiento</label>
                                <div class="col-md-9 col-xs-7">
                                    <input id="movuserType_input" type="text" value=""
                                        placeholder="Ingresa el nombre de la cuenta" maxlength="40"
                                        class="form-control alphaonly" required="required">
                                </div>
                            </div>
                            <div class="form-group custform">
                                <label class="col-md-3 col-xs-5 control-label">Monto</label>
                                <div class="col-md-9 col-xs-7">
                                    <input id="movusertipo_input" type="text" value=""
                                        placeholder="Ingresa el Tipo de cuenta" maxlength="40"
                                        class="form-control alphaonly" required="required">
                                </div>
                            </div>
                        </div>
                        <div class="panel-footer addpanelnormal">
                            <span class="pull-right btn btn-success agregarnuevamovbtn" title="Agregar Nuevo">
                                <i class="fas fa-plus"></i> Nuevo </span>
                        </div>
                        <div class="panel-footer addpanelshow">
                            <span class="pull-right btn btn-info guardarnuevamovbtn" title="Agregar Nuevo">
                                <i class="fas fa-save"></i> Agregar </span>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 inicialpanel reportespanel">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <div class="panel-title-box">
                                <h3>Reportes</h3>
                                <span>Reportes del sistema </span>
                            </div>
                            <ul class="panel-controls" style="margin-top: 2px;">
                                <li><a href="#" class="panel-collapse"><span class="fa fa-angle-down"></span> </a></li>
                                <li><a href="#" class="panel-remove"><span class="fa fa-times"></span> </a></li>
                            </ul>
                        </div>
                        <div class="panel-body">
                            <div class="col-md-8">
                                <div class="form-group push-up-10">
                                    <h4>Buscar:</h4>
                                    <div class="input-group">
                                        <div class="input-group-addon"><span class="fas fa-search"></span></div>
                                        <input type="text" class="form-control" placeholder="Buscar Reportes...">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel-footer ">
                            <!-- <span class="pull-right btn btn-success disabled"   title="Agregar Nuevo">
                                <i class="fas fa-plus"></i> Nuevo </span>  -->
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="message-box animated fadeIn" data-sound="alert" id="mb-signout">
        <div class="mb-container">
            <div class="mb-middle">
                <div class="mb-title"><span class="fas fa-sign-out-alt"></span> Desea <strong>Salir</strong> ?</div>
                <div class="mb-content">
                    <p>Seguro que desea salir?</p>
                    <p>Clic en No en caso que desee continuar.</p>
                </div>
                <div class="mb-footer">
                    <div class="pull-right">
                        <a href="./index.html" class="btn btn-success btn-lg">Si</a>
                        <button class="btn btn-default btn-lg mb-control-close">No</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <audio id="audio-alert" src="https://cabis.burtonservers.com/audio/alert.mp3" preload="auto"></audio>
    <audio id="audio-fail" src="https://cabis.burtonservers.com/audio/fail.mp3" preload="auto"></audio>
    <script type="text/javascript" src="https://cabis.burtonservers.com/js/plugins/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="https://cabis.burtonservers.com/js/plugins/jquery/jquery-ui.min.js"></script>
    <script type="text/javascript" src="https://cabis.burtonservers.com/js/plugins/bootstrap/bootstrap.min.js"></script>
    <script type='text/javascript' src='https://cabis.burtonservers.com/js/plugins/icheck/icheck.min.js'></script>
    <script type="text/javascript"
        src="https://cabis.burtonservers.com/js/plugins/mcustomscrollbar/jquery.mCustomScrollbar.min.js"></script>
    <script type="text/javascript"
        src="https://cabis.burtonservers.com/js/plugins/scrolltotop/scrolltopcontrol.js"></script>

    <script type='text/javascript'
        src='https://cabis.burtonservers.com/js/plugins/bootstrap/bootstrap-datepicker.js'></script>
    <script type="text/javascript" src="https://cabis.burtonservers.com/js/plugins/owl/owl.carousel.min.js"></script>

    <script type="text/javascript" src="https://cabis.burtonservers.com/js/plugins/moment.min.js"></script>
    <script type="text/javascript"
        src="https://cabis.burtonservers.com/js/plugins/daterangepicker/daterangepicker.js"></script>
    <script type="text/javascript" src="https://cabis.burtonservers.com/js/plugins.js"></script>
    <script type="text/javascript" src="https://cabis.burtonservers.com/js/actions.js"></script>

    <script>
        $(document).ready(function () {
            $('.inicialpanel,.addpanelshow').slideUp();
            $('.iniciopanel').slideDown();

            $('.btnshowInicio').click(function () {
                $('.inicialpanel,.addpanelshow').slideUp();
                $('.iniciopanel').slideDown();
            });

            $('.btnshowClientes').click(function () {
                $('.inicialpanel,.addpanelshow').slideUp();
                $('.clientespanel').slideDown();
            });

            $('.btnshowCuentas').click(function () {
                $('.inicialpanel,.addpanelshow').slideUp();
                $('.cuentaspanel').slideDown();
            });

            $('.btnshowMovimientos').click(function () {
                $('.inicialpanel,.addpanelshow').slideUp();
                $('.movimientospanel').slideDown();
            });

            $('.btnshowReportes').click(function () {
                $('.inicialpanel,.addpanelshow').slideUp();
                $('.reportespanel').slideDown();
            });

            $('.agregarnuevoclientebtn').click(function () {
                $('.clientespanel .addpanelnormal').slideUp();
                $('.clientespanel .addpanelshow').slideDown();
            });
            $('.agregarnuevacuentabtn').click(function () {
                $('.cuentaspanel .addpanelnormal').slideUp();
                $('.cuentaspanel .addpanelshow').slideDown();
            });
            $('.agregarnuevamovbtn').click(function () {
                $('.movimientospanel .addpanelnormal').slideUp();
                $('.movimientospanel .addpanelshow').slideDown();
            });

            $('.guardarnuevoclientebtn').click(function () {
                const newClient = {
                    name: $('#usernombre_input').val().trim(),
                    email: $('#useremaile_input').val().trim(),
                    address: $('#useraddr_input').val().trim()
                };

                if (!newClient.name || !newClient.email || !newClient.address) {
                    alert("Todos los campos son obligatorios.");
                    return;
                }

                $.ajax({
                    url: '/clientes',
                    method: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(newClient),
                    success: function (response) {
                        alert("Cliente agregado con éxito.");
                        console.log("Nuevo cliente:", response);

                        $('#usernombre_input, #useremaile_input, #useraddr_input').val('');
                        $('.clientespanel .addpanelshow').slideUp();
                        $('.clientespanel .addpanelnormal').slideDown();
                    },
                    error: function (xhr) {
                        alert("Error al guardar el cliente. Verifica los datos e intenta de nuevo.");
                        console.error("Error:", xhr.responseText);
                    }
                });
            });

            $('.guardarnuevacuentabtn').click(function () {
                const newAcc = {
                    name: $('#accusernombre_input').val().trim(),
                    type: $('#accusertipo_input').val().trim()
                };

                if (!newAcc.name || !newAcc.type) {
                    alert("Todos los campos son obligatorios.");
                    return;
                }

                $.ajax({
                    url: '/cuentas',
                    method: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(newAcc),
                    success: function (response) {
                        alert("cuenta agregado con éxito.");
                        console.log("Nuevo cliente:", response);

                        $('#accusernombre_input, #accusernombre_input').val('');
                        $('.cuentaspanel .addpanelshow').slideUp();
                        $('.cuentaspanel .addpanelnormal').slideDown();
                    },
                    error: function (xhr) {
                        alert("Error al guardar la cuenta. Verifica los datos e intenta de nuevo.");
                        console.error("Error:", xhr.responseText);
                    }
                });
            });

            $('.guardarnuevamovbtn').click(function () {
                const newMov = {
                    customerId: $('#accusernombre_input').val().trim(),
                    type: $('#accusertipo_input').val().trim(),
                    amount: $('#accusertipo_input').val().trim()
                };

                if (!newMov.customerId || !newMov.type || !newMov.amount) {
                    alert("Todos los campos son obligatorios.");
                    return;
                }

                $.ajax({
                    url: '/movimientos',
                    method: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(newMov),
                    success: function (response) {
                        alert("Movimiento agregado con éxito.");
                        console.log("Nuevo cliente:", response);

                        $('#accusernombre_input, #accusernombre_input').val('');
                        $('.cuentaspanel .addpanelshow').slideUp();
                        $('.cuentaspanel .addpanelnormal').slideDown();
                    },
                    error: function (xhr) {
                        alert("Error al guardar Movimiento. Verifica los datos e intenta de nuevo.");
                        console.error("Error:", xhr.responseText);
                    }
                });
            });

            console.log("menu listo");
        });

    </script>
</body>

</html>